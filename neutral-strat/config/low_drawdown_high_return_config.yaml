# Low Drawdown High Return Strategy Configuration
# Optimized to maintain 130%+ annual returns while minimizing drawdown

pairs:
  - base: BTCUSDT
    alt: AVAXUSDT
    ema_window: 4              # Slightly slower for stability
    allocation_weight: 1.1     # Reduced leverage for lower DD
    max_notional: 4500         # Conservative position sizing
  - base: BTCUSDT
    alt: ADAUSDT
    ema_window: 4              # Consistent with AVAX
    allocation_weight: 1.0     # Conservative but effective
    max_notional: 4500

strategy:
  type: "relative_momentum_futures"
  optimization:
    enabled: true
    window_range_start: 3      # Avoid ultra-fast signals
    window_range_end: 7        # More stable range
    metric: "calmar"           # Optimize for return/drawdown ratio

  enhancements:
    enabled: true
    multi_timeframe_confirmation: true
    volatility_position_sizing: true      # Key for drawdown control
    rsi_momentum_filter: true             # Enable RSI filter
    dynamic_position_sizing: true         # Adaptive sizing
    trend_momentum_boost: false           # Disable for stability
    stop_loss_mechanism: true             # Enable stops
    enhanced_cost_calculation: true

    # Enhanced drawdown control
    drawdown_control:
      enabled: true
      max_daily_dd: 0.03              # 3% daily limit
      lookback_period: 20             # Monitor 20-day rolling DD
      position_scale_factor: 0.5      # Reduce positions during DD

    # Volatility-based position sizing
    volatility_sizing:
      target_volatility: 0.45          # Target 45% annual vol
      lookback_period: 30             # 30-day vol estimation
      min_allocation: 0.3             # Never go below 30%
      max_allocation: 1.2             # Cap at 120%

portfolio:
  equal_weight: false
  volatility_scaled: true             # Critical for drawdown control
  rebalance_frequency: "daily"

  # Enhanced portfolio risk controls
  risk_controls:
    max_correlation: 0.7              # Avoid highly correlated positions
    diversification_bonus: 0.1       # Reward diversification
    momentum_decay: 0.95             # Reduce stale signals

risk:
  max_daily_dd: 0.04                 # 4% daily drawdown limit
  max_total_dd: 0.18                 # 18% total drawdown limit
  leverage_limit: 10.0               # Reduced from 25x
  max_position_size: 0.35            # Smaller individual positions
  stop_loss: 0.05                    # 5% stop loss

  # Advanced risk metrics
  var_limit: 0.025                   # 2.5% daily VaR limit
  stress_test_factor: 1.5            # 1.5x stress scenario
  correlation_limit: 0.6             # Max pair correlation

futures:
  enabled: true
  include_funding: true
  funding_frequency: 8

backtest:
  start_date: "2020-11-01"
  end_date: "2025-11-29"
  initial_capital: 10000
  freq: 365

execution:
  slippage: 0.00008                  # Slightly higher for realism
  fees: 0.00008                      # Conservative fee estimate

  # Conservative execution
  market_impact: 0.00005             # Account for market impact
  execution_delay: 0.5               # Half-day execution delay

binance:
  testnet_mode:
    testnet: false
    base_url: "https://api.binance.com"
    demo_trading: true

logging:
  level: "INFO"
  console: true
  file: "logs/low_drawdown_high_return_trading.log"